{"jsonrpc": "2.0", "id": "test_after_permissions", "error": {"code": -32603, "message": "User not authenticated for Gmail"}, "_debug": {"stderr": "INFO:__main__:=== MCP Server Starting ===\nINFO:botocore.credentials:Found credentials in environment variables.\nINFO:__main__:DynamoDB initialized - Table: easydoai-user-tokens-dev\nINFO:__main__:Received request: {\"jsonrpc\": \"2.0\", \"id\": \"test_after_permissions\", \"method\": \"tools/call\", \"params\": {\"name\": \"get_gmail_messages\", \"arguments\": {\"user_id\": \"686da1e3e74f0d3ccd019830\", \"query\": \"\", \"max_results\": 2}}}\nINFO:__main__:Processing method: tools/call\nINFO:__main__:Handling tool call: get_gmail_messages\nINFO:__main__:Gmail messages request for user: 686da1e3e74f0d3ccd019830\nINFO:__main__:Looking for credentials for user: 686da1e3e74f0d3ccd019830\nERROR:__main__:Error getting credentials for user 686da1e3e74f0d3ccd019830: An error occurred (AccessDeniedException) when calling the GetItem operation: User: arn:aws:sts::439045398980:assumed-role/LambdaMCPStack-MCPLambdaRole1F476102-LTdvueFvgrBI/LambdaMCPStack-GmailMCPLambdaD2EF2F90-M8OUb80rPJ9G is not authorized to perform: dynamodb:GetItem on resource: arn:aws:dynamodb:us-east-1:439045398980:table/easydoai-user-tokens-dev because no identity-based policy allows the dynamodb:GetItem action\nERROR:__main__:Failed to get credentials - authentication required\nINFO:__main__:Sending response: {\"jsonrpc\": \"2.0\", \"id\": \"test_after_permissions\", \"error\": {\"code\": -32603, \"message\": \"User not authenticated for Gmail\"}}...\n"}}